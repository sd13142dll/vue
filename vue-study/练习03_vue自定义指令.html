<!DOCTYPE HTML>
<html>
	<head>
		<meta charset="UTF-8">
		<meta name="author" content="Formax-Design">
		<meta name="Description" content="" />
		<meta name="Keywords" content="" />
		<meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no">
		<meta content="telephone=no" name="format-detection">
		<meta content="email=no" name="format-detection" />
		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black" />
		<title>Vue自定义指令</title>
		<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
		<style>			
			*,*:before,*:after {
				margin: 0;
				padding: 0;
				box-sizing: border-box;
			}
			body {
				padding: 10px;
			}
			[v-cloadk] {
				display: none;
			}
		</style>
	</head>


	<body>
		<div id="itany">
			<!-- <h3 v-hello>{{ msg }}</h3>
			<button @click="changeData">更新数据</button> -->

			<!-- <h3 v-world:foo.hehe.haha='username'>{{ msg }}</h3> -->

			<!-- <h3 v-wbs>{{ msg }}</h3> -->

			<input type="text" v-model="msg" v-focus>
		</div>

		
		<script src="js/vue.js"></script>
		<script>
			/**
			 * 自定义全局指令
			 * 注： 使用指令时必须在指令名称前加前缀v-，即v-hello指令名称
		     */
			/*
			Vue.directive('hello', {
				// 常用
				bind(){
					alert('bind: 指令第一次绑定到元素上时调用，只调用一次，可执行初始化操作');
				},

				inserted(){
					alert('inserted: 被绑定元素插入到DOM中时调用');
				},

				update(){
					alert('update: 被绑定元素所在模板更新时调用');
				},

				componentUpdated(){
					alert('componentUpdated: 被绑定元素所在模板完成一次更新周期时调用');
				},

				unbind(){
					alert('指令与元素解绑时调用，只调用一次');
				}
			});
			*/

			// 钩子函数的参数	
			/*
			Vue.directive('world', {
				bind(el, binding ){
					console.log(el);
					el.style.color = 'red';
					console.log( binding );
				}
			});
			*/

			// 传入一个简单的函数,bind 和 update时调用
			/*
			Vue.directive('wbs', function(){
				alert('wbs117');
			});
			*/


			const vm = new Vue({
				el: '#itany',

				data: {
					msg: 'welcome to itany',
					username: 'alice'
				},

				methods: {
					changeData(){
						this.msg = 'msg被修改了';
					}
				},

				// 自定义局部指令	
				directives: {
					focus: {
						inserted(el){
							el.focus();
							alert('focus指令');
						}
					}
				}
			});

			
		</script>
	</body>
</html>



























